<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- SEO & Open Graph for KakaoTalk/Facebook sharing -->
  <title id="page-title">정지성 ♥ 전유진 결혼합니다 - Dubai</title>
  <meta name="description" content="2026년 3월 15일 토요일 오후 2시 | 그랜드 웨딩홀">

  <meta property="og:type" content="website">
  <meta property="og:title" id="og-title" content="정지성 ♥ 전유진 결혼합니다">
  <meta property="og:description" id="og-description" content="2026년 3월 15일 토요일 오후 2시 | 그랜드 웨딩홀">
  <meta property="og:image" id="og-image" content="https://your-domain.com/images/og-image.jpg">
  <meta property="og:url" id="og-url" content="https://your-domain.com">

  <!-- Kakao Maps API -->
  <script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=YOUR_KAKAO_MAP_API_KEY"></script>

  <!-- Kakao SDK for sharing -->
  <script src="https://t1.kakaocdn.net/kakao_js_sdk/2.6.0/kakao.min.js"
    integrity="sha384-6MFdIr0zOira1CHQkedUqJVql0YtcZA1P0nbPrQYJXVJZUkTk/oX4U9GhUIs3/z8"
    crossorigin="anonymous"></script>

  <!-- Stylesheets -->
  <link rel="stylesheet" href="css/common.css">
  <link rel="stylesheet" href="css/dubai.css">
</head>
<body>

  <!-- 히어로 섹션 -->
  <section class="hero-section fade-in">
    <div class="hero-title">WEDDING</div>
    <div class="hero-names">
      <div id="groom-name">김 준 수</div>
      <div class="hero-separator">&</div>
      <div id="bride-name">이 서 영</div>
    </div>

    <div class="hero-date" id="wedding-date">2026. 03. 15 SAT</div>
    <div class="hero-time" id="wedding-time">PM 2:00</div>

    <div class="hero-venue" id="venue-name">그랜드 볼룸 3F</div>

    <div class="scroll-indicator">↓</div>
  </section>

  <!-- 인사말 섹션 -->
  <section class="greeting-section fade-in">
    <div class="container">
      <h2 class="greeting-title">초대합니다</h2>

      <p class="greeting-message" id="greeting-text">
        저희 두 사람이
        사랑으로 하나 되는 소중한 날을
        함께해 주시면 큰 기쁨이 되겠습니다.
      </p>

      <div class="parents-info" id="parents-info">
        <div class="parent-group">
          <div class="parent-label">[신랑측 부모님]</div>
          <div class="parent-names">아버지 김철수 · 어머니 박영희</div>
        </div>

        <div class="parent-group">
          <div class="parent-label">[신부측 부모님]</div>
          <div class="parent-names">아버지 이민호 · 어머니 최수진</div>
        </div>
      </div>
    </div>
  </section>

  <!-- 갤러리 섹션 -->
  <section class="gallery-section fade-in">
    <div class="gallery-header">
      <h2 class="gallery-title">GALLERY</h2>
    </div>

    <div class="gallery-container-wrapper">
      <button class="gallery-nav-btn prev" id="gallery-prev">‹</button>
      <div class="gallery-scroll" id="gallery-container">
        <!-- JavaScript로 동적 생성 -->
      </div>
      <button class="gallery-nav-btn next" id="gallery-next">›</button>
    </div>

    <div class="gallery-indicators" id="gallery-indicators">
      <!-- JavaScript로 동적 생성 -->
    </div>
  </section>

  <!-- 일시/장소 섹션 -->
  <section class="info-section fade-in">
    <div class="container">
      <h2 class="info-title">WHEN & WHERE</h2>

      <div class="info-date" id="info-date">2026년 3월 15일 토요일</div>
      <div class="info-time" id="info-time">오후 2시</div>

      <div class="dday-box" id="dday">D - 48</div>

      <div class="venue-info">
        <div class="venue-name" id="info-venue-name">그랜드 웨딩홀</div>
        <div class="venue-address" id="info-venue-address">서울시 강남구 테헤란로 123</div>
        <div class="venue-floor" id="info-venue-floor">3층 그랜드 볼룸</div>
        <div class="venue-tel" id="info-venue-tel">TEL. 02-1234-5678</div>
      </div>

      <div class="map-container">
        <div id="map" style="width:100%;height:100%;"></div>
      </div>

      <div class="nav-buttons">
        <button class="btn btn-secondary" onclick="openKakaoNavi()">
          카카오내비
        </button>
        <button class="btn btn-secondary" onclick="openTmapNavi()">
          티맵
        </button>
      </div>
    </div>
  </section>

  <!-- 계좌번호 섹션 -->
  <section class="account-section fade-in">
    <div class="container">
      <h2 class="account-title">ACCOUNT</h2>

      <!-- 신랑측 -->
      <div class="accordion" id="groom-accordion">
        <button class="accordion-header" onclick="toggleAccordion(this)">
          <span>신랑측 마음 전하실 곳</span>
          <span class="accordion-icon">▼</span>
        </button>
        <div class="accordion-content">
          <div class="account-detail">
            <div class="account-bank" id="groom-bank">카카오뱅크</div>
            <div class="account-number" id="groom-number">3333-01-1234567</div>
            <div class="account-holder" id="groom-holder">예금주: 김준수</div>
            <button class="btn btn-primary btn-block copy-button" data-copy="3333-01-1234567">
              복사하기
            </button>
            <!-- 카카오페이 송금 버튼 (선택사항) -->
            <!-- <button class="btn btn-secondary btn-block kakaopay-button">
              카카오페이 송금
            </button> -->
          </div>
        </div>
      </div>

      <!-- 신부측 -->
      <div class="accordion" id="bride-accordion">
        <button class="accordion-header" onclick="toggleAccordion(this)">
          <span>신부측 마음 전하실 곳</span>
          <span class="accordion-icon">▼</span>
        </button>
        <div class="accordion-content">
          <div class="account-detail">
            <div class="account-bank" id="bride-bank">카카오뱅크</div>
            <div class="account-number" id="bride-number">3333-01-7654321</div>
            <div class="account-holder" id="bride-holder">예금주: 이서영</div>
            <button class="btn btn-primary btn-block copy-button" data-copy="3333-01-7654321">
              복사하기
            </button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- CTA 버튼 (하단 고정) -->
  <div class="cta-container" id="cta-container">
    <!-- JavaScript로 동적 생성 -->
  </div>

  <!-- 갤러리 모달 -->
  <div class="modal" id="gallery-modal">
    <button class="modal-close">×</button>
    <button class="modal-nav prev">‹</button>
    <div class="modal-content">
      <img id="modal-img" src="" alt="갤러리 이미지">
    </div>
    <button class="modal-nav next">›</button>
  </div>

  <!-- Scripts -->
  <script src="js/config.js"></script>
  <script src="js/common.js"></script>

  <!-- 페이지 로드 시 초기화 -->
  <script>
    // config에서 데이터 읽어와서 HTML 업데이트
    document.addEventListener('DOMContentLoaded', () => {
      const config = window.weddingConfig;

      // Open Graph 메타태그 업데이트
      if (config.og) {
        document.getElementById('page-title').textContent = config.og.title;
        document.getElementById('og-title').setAttribute('content', config.og.title);
        document.getElementById('og-description').setAttribute('content', config.og.description);
        document.getElementById('og-image').setAttribute('content', config.og.image);
        document.getElementById('og-url').setAttribute('content', config.og.url);
      }

      // 신랑신부 이름
      document.getElementById('groom-name').textContent = config.groom.name.split('').join(' ');
      document.getElementById('bride-name').textContent = config.bride.name.split('').join(' ');

      // 날짜/시간/장소
      document.getElementById('wedding-date').textContent = config.wedding.dateString.replace(/년|월/g, '.').replace('일', '').replace('토요일', 'SAT');
      document.getElementById('wedding-time').textContent = config.wedding.time.replace('오후', 'PM').replace('시', ':00');
      document.getElementById('venue-name').textContent = config.wedding.venue.floor;

      // 인사말
      document.getElementById('greeting-text').textContent = config.message.main;

      // 부모님 정보
      if (config.settings.showParents) {
        const parentsHtml = `
          <div class="parent-group">
            <div class="parent-label">[신랑측 부모님]</div>
            <div class="parent-names">아버지 ${config.groom.father} · 어머니 ${config.groom.mother}</div>
          </div>
          <div class="parent-group">
            <div class="parent-label">[신부측 부모님]</div>
            <div class="parent-names">아버지 ${config.bride.father} · 어머니 ${config.bride.mother}</div>
          </div>
        `;
        document.getElementById('parents-info').innerHTML = parentsHtml;
      }

      // 갤러리
      const galleryContainer = document.getElementById('gallery-container');
      const indicatorsContainer = document.getElementById('gallery-indicators');

      config.gallery.forEach((imgSrc, index) => {
        // 갤러리 아이템
        const item = document.createElement('div');
        item.className = 'gallery-item';
        item.innerHTML = `<img src="${imgSrc}" alt="갤러리 이미지 ${index + 1}" loading="lazy">`;
        galleryContainer.appendChild(item);

        // 인디케이터
        const dot = document.createElement('div');
        dot.className = 'indicator-dot' + (index === 0 ? ' active' : '');
        indicatorsContainer.appendChild(dot);
      });

      // 네비게이션 버튼 상태 업데이트 함수
      function updateNavButtons() {
        const scrollLeft = galleryContainer.scrollLeft;
        const maxScroll = galleryContainer.scrollWidth - galleryContainer.offsetWidth;

        prevBtn.disabled = scrollLeft <= 1;
        nextBtn.disabled = scrollLeft >= maxScroll - 1;

        prevBtn.style.opacity = prevBtn.disabled ? '0.3' : '1';
        nextBtn.style.opacity = nextBtn.disabled ? '0.3' : '1';
        prevBtn.style.cursor = prevBtn.disabled ? 'default' : 'pointer';
        nextBtn.style.cursor = nextBtn.disabled ? 'default' : 'pointer';
      }

      // 갤러리 스크롤 이벤트로 인디케이터 및 버튼 업데이트
      galleryContainer.addEventListener('scroll', () => {
        const scrollLeft = galleryContainer.scrollLeft;
        const itemWidth = galleryContainer.offsetWidth;
        const currentIndex = Math.round(scrollLeft / itemWidth);

        const dots = indicatorsContainer.querySelectorAll('.indicator-dot');
        dots.forEach((dot, index) => {
          dot.classList.toggle('active', index === currentIndex);
        });

        updateNavButtons();
      });

      // 갤러리 네비게이션 버튼
      const prevBtn = document.getElementById('gallery-prev');
      const nextBtn = document.getElementById('gallery-next');

      prevBtn.addEventListener('click', () => {
        if (!prevBtn.disabled) {
          const itemWidth = galleryContainer.offsetWidth;
          galleryContainer.scrollBy({ left: -itemWidth, behavior: 'smooth' });
        }
      });

      nextBtn.addEventListener('click', () => {
        if (!nextBtn.disabled) {
          const itemWidth = galleryContainer.offsetWidth;
          galleryContainer.scrollBy({ left: itemWidth, behavior: 'smooth' });
        }
      });

      // 초기 버튼 상태 설정
      updateNavButtons();

      // 일시/장소 정보
      document.getElementById('info-date').textContent = config.wedding.dateString;
      document.getElementById('info-time').textContent = config.wedding.time;
      document.getElementById('info-venue-name').textContent = config.wedding.venue.name;
      document.getElementById('info-venue-address').textContent = config.wedding.venue.address;
      document.getElementById('info-venue-floor').textContent = config.wedding.venue.floor;
      if (config.settings.showTel) {
        document.getElementById('info-venue-tel').textContent = `TEL. ${config.wedding.venue.tel}`;
      }

      // 계좌번호
      document.getElementById('groom-bank').textContent = config.groom.account.bank;
      document.getElementById('groom-number').textContent = config.groom.account.number;
      document.getElementById('groom-holder').textContent = `예금주: ${config.groom.account.holder}`;
      document.querySelector('#groom-accordion .copy-button').setAttribute('data-copy', config.groom.account.number);

      document.getElementById('bride-bank').textContent = config.bride.account.bank;
      document.getElementById('bride-number').textContent = config.bride.account.number;
      document.getElementById('bride-holder').textContent = `예금주: ${config.bride.account.holder}`;
      document.querySelector('#bride-accordion .copy-button').setAttribute('data-copy', config.bride.account.number);
    });

    // 길찾기 함수 (전역)
    function openKakaoNavi() {
      const config = window.weddingConfig;
      const { lat, lng } = config.kakaoMap;
      const { name } = config.wedding.venue;
      const url = `kakaomap://route?ep=${lat},${lng}&by=CAR`;
      window.location.href = url;

      setTimeout(() => {
        window.open(`https://map.kakao.com/link/to/${name},${lat},${lng}`, '_blank');
      }, 1500);
    }

    function openTmapNavi() {
      const config = window.weddingConfig;
      const { lat, lng } = config.kakaoMap;
      const { name } = config.wedding.venue;
      const url = `tmap://route?goalname=${encodeURIComponent(name)}&goalx=${lng}&goaly=${lat}`;
      window.location.href = url;

      setTimeout(() => {
        window.open(`https://tmap.life/`, '_blank');
      }, 1500);
    }
  </script>
</body>
</html>
